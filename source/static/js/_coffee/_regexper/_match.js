// Generated by CoffeeScript 1.10.0
var _match;

_match = function(group, res) {
  var _connect, box, exp, i, item, item_padding, item_width, items, j, k, l, len, len1, len2, line, path, ref;
  group.transform(Snap.matrix().translate(10, res.match));
  ref = res.exps;
  for (j = 0, len = ref.length; j < len; j++) {
    exp = ref[j];
    _render(group, exp.type, exp.content);
  }
  items = group.selectAll(res.svg + ' > g > g > g');
  item_width = [0];
  item_padding = 10;
  _connect = function(item, i) {
    var box, move;
    box = item.getBBox();
    if (0 === i) {
      move = 0;
    } else {
      move = item_width[i - 1];
    }
    item_width[i] = move + box.width + item_padding;
    item.transform(Snap.matrix().translate(move, 0));
  };
  for (i = k = 0, len1 = items.length; k < len1; i = ++k) {
    item = items[i];
    _connect(item, i);
  }
  item_width.splice(-1);
  box = group.getBBox();
  path = [];
  for (l = 0, len2 = item_width.length; l < len2; l++) {
    line = item_width[l];
    path.push('M' + line + ',' + box.r1 + 'H' + (line - item_padding));
  }
  group.path(path.join(''));
  return group;
};
